{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Transactions=_ref=>{let{selectedMonth}=_ref;const[transactions,setTransactions]=useState([]);const[search,setSearch]=useState(\"\");const[page,setPage]=useState(1);const[total,setTotal]=useState(0);useEffect(()=>{const fetchTransactions=async()=>{const{data}=await axios.get(\"http://localhost:5000/api/transactions\",{params:{page,perPage:10,search,month:selectedMonth}});setTransactions(data.transactions);setTotal(data.total);};fetchTransactions();},[page,search,selectedMonth]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",value:search,onChange:e=>setSearch(e.target.value)}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date of Sale\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:transactions.map(tx=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:tx.title}),/*#__PURE__*/_jsx(\"td\",{children:tx.description}),/*#__PURE__*/_jsx(\"td\",{children:tx.price}),/*#__PURE__*/_jsx(\"td\",{children:tx.dateOfSale})]},tx._id))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(prev=>Math.max(prev-1,1)),children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(prev=>page*10<total?prev+1:prev),children:\"Next\"})]});};export default Transactions;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Transactions","_ref","selectedMonth","transactions","setTransactions","search","setSearch","page","setPage","total","setTotal","fetchTransactions","data","get","params","perPage","month","children","type","placeholder","value","onChange","e","target","map","tx","title","description","price","dateOfSale","_id","onClick","prev","Math","max"],"sources":["E:/FS/frontend/src/components/Transactions.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Transactions = ({ selectedMonth }) => {\r\n    const [transactions, setTransactions] = useState([]);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [page, setPage] = useState(1);\r\n    const [total, setTotal] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const fetchTransactions = async () => {\r\n            const { data } = await axios.get(\"http://localhost:5000/api/transactions\", {\r\n                params: { page, perPage: 10, search, month: selectedMonth },\r\n            });\r\n            setTransactions(data.transactions);\r\n            setTotal(data.total);\r\n        };\r\n        fetchTransactions();\r\n    }, [page, search, selectedMonth]);\r\n\r\n    return (\r\n        <div>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Search\"\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n            />\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Title</th>\r\n                        <th>Description</th>\r\n                        <th>Price</th>\r\n                        <th>Date of Sale</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {transactions.map((tx) => (\r\n                        <tr key={tx._id}>\r\n                            <td>{tx.title}</td>\r\n                            <td>{tx.description}</td>\r\n                            <td>{tx.price}</td>\r\n                            <td>{tx.dateOfSale}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n            <button onClick={() => setPage((prev) => Math.max(prev - 1, 1))}>\r\n                Previous\r\n            </button>\r\n            <button\r\n                onClick={() => setPage((prev) => (page * 10 < total ? prev + 1 : prev))}\r\n            >\r\n                Next\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Transactions;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}